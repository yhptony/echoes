define(["underscore","backbone"],function(e,t){var n=t.Model.extend({url:"/updates/latest.json",defaults:{version:"201407161730",description:"",manualCheck:!1},safe:"echoes-updates",time:{minute:6e4,minutesForInterval:120},interval:function(){var e=this.time.minute*this.time.minutesForInterval;return e},initialize:function(){this.on("sync",this.handleCheck,this),this.intervalId=setInterval(function(){this.set("manualCheck",!1),this.fetch()}.bind(this),this.interval())},check:function(){this.set("manualCheck",!0),this.fetch()},handleCheck:function(e){var t=e.changed&&e.changed.version,n=this.attributes.manualCheck;return t?void this.trigger("check:version-update",e):void(n&&!t&&this.trigger("manual:no-update",e))},versionChanged:function(){return this.changed&&this.changed.version}});return n});