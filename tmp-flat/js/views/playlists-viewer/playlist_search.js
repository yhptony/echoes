define(["jquery","underscore","backbone","text!templates/playlist-search.html"],function(e,t,n,r){var i=n.View.extend({events:{"keyup input":function(e){this.filter=e.target.value,this.trigger("search:change",this.filter)},'click button[data-action="create"]':function(){var e=this.$("input[type=search]").val();this.setState("loading"),this.trigger("search:add",e)},"submit form":function(e){e.preventDefault()}},initialize:function(){this.listenTo(n,"app:add-to-playlist",this.render),this.filter=""},template:t.template(r),render:function(e){return e.query=this.filter,this.$el.html(this.template(e)),setTimeout(t.bind(function(){this.$("input").get(0).focus()},this),500),this},setState:function(e){this.$(".add-btn").button(e)},resetState:function(){this.setState("reset")}});return i});